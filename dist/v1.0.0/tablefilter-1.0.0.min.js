(function(F,d,G){var C=0,m=[],e=d('<style type="text/css"></style>');d("head").first().append(e);d.tablefilter={debuffer:350};d.fn.tablefilter=function(a,b){var r,y=this.selector;"undefined"===typeof b&&(b=a,a="tbody tr");if("undefined"===typeof b)return this;r=this.filter("table").each(function(a,b){var c;b.tf=b.tf||{};"undefined"===typeof b.tf.noelements&&(c=d('<div class="tf-noelements">No items found.</div>'),d(b).after(c),b.tf.noelements=c[0])});for(var k in b.filters)d(k).each(function(r,f){var c,
l,n,q,g,h,z,e,p,t,u,v,w,A;"undefined"===typeof f.tfid&&(f.tfid=++C,m.push(f.tfid));c=b.filters[k];n=c.event;q="undefined"===typeof c.columns?[]:d.isArray(c.columns)?c.columns:[c.columns];g="undefined"===typeof c.reverse?"undefined"===typeof c.apply:c.reverse;h=c.apply||"tf-autogen-hide-"+f.tfid;z=c.attribute||"text";l=0<q.length?"cellMatch":"rowMatch";e=B[c.method]||B[l];p="undefined"!==typeof c.match?function(){return c.match}:function(){return d(this).val()};"checkbox"===f.type?(t=s,u=x,v=function(){return g?
this.checked:!this.checked}):(t=g?x:s,u=g?s:x,v=function(){return 0==d(this).val().length});w=function(b){b=new Date;var c=d(y).filter("table");if(v.call(this))c.find("tbody tr").removeClass(h);else{var f=p.call(this);e.call(c,a,f,z,q,h,t,u)}c.each(function(b,c){"undefined"!==c.tf.noelements&&d(c.tf.noelements).css("display",0<d(c).find(a).filter(":visible").length?"none":"block");d(c).trigger("filterend")});console.log(new Date-b+"ms")};l=0<=d.inArray(n,["keyup","keydown"])?function(a){var c=this;
clearTimeout(A);A=setTimeout(function(){w.call(c,a)},d.tablefilter.debuffer)}:w;d(f).bind(n,l);d(f).trigger(n)});D();return r};d.fn.extend({tfmeta:function(a){if("undefined"===typeof a)return this.text();switch(a){case "text":return this.text();default:return this.attr(a)}}});var B={search:function(a,b,r,e,k,p,f){var c,l=E(b);d(this).find(a).each(function(a,b){a:{for(var g=0;g<l.length;g++){c=d(b).tfmeta(r);var h;h=c;var e=l[g];"undefined"===typeof h||"undefined"===typeof e?h=!1:(h=h.toString().toLowerCase(),
e=e.toString().toLowerCase(),h=0<=h.indexOf(e));if(!h){f.call(b,k);break a}}p.call(b,k)}})},rowMatch:function(a,b,e,y,k,m,f){var c;d(this).find(a).each(function(a,n){c=d(n).tfmeta(e);p(c,b)?m.call(n,k):f.call(n,k)})},cellMatch:function(a,b,e,m,k,s,f){var c,l;d(this).find(a).each(function(a,q){l=d(q).children("td");a:{for(var g=0;g<m.length;g++)if(c=l.eq(m[g]).tfmeta(e),p(c,b)){s.call(q,k);break a}f.call(q,k)}})}},D=function(){for(var a="",b=0;b<m.length;b++)a+=".tf-autogen-hide-"+m[b]+"{display: none;} ";
try{e.html(d.trim(a))}catch(p){e[0].styleSheet.cssText=d.trim(a)}},E=function(a){a=a.match(/\w+|"[^"]+"/g)||[""];for(var b=0;b<a.length;b++)a[b]=a[b].replace(/"/g,"");return a},s=function(a){d(this).addClass(a)},x=function(a){d(this).removeClass(a)},p=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof b)return!1;a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a===b}})(window,jQuery);
